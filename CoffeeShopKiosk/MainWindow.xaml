<Window x:Class="CoffeeShopKiosk.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:views="clr-namespace:CoffeeShopKiosk.Views"
    xmlns:app="clr-namespace:CoffeeShopKiosk"
    Title="Coffee Shop Kiosk" WindowState="Maximized" WindowStyle="SingleBorderWindow" ResizeMode="CanResize">
    <Window.InputBindings>
        <!-- Use a routed command defined on this Window; use a KeyGesture string to avoid ModifierKeys parsing issues -->
        <KeyBinding Command="{x:Static app:MainWindow.ToggleStudyModeRoutedCommand}" Gesture="Ctrl+Shift+S" />
    </Window.InputBindings>    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="100"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="360" />
        </Grid.ColumnDefinitions>

        <!-- subtle cafe gradient -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#FFF9F5" Offset="0" />
                <GradientStop Color="#F1E6DE" Offset="1" />
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Coffee-themed header -->
        <Border Grid.Row="0" Grid.ColumnSpan="2" Background="{StaticResource CoffeeBrown}" CornerRadius="0,0,32,32" Height="100" VerticalAlignment="Top" Effect="{DynamicResource DropShadowEffect}">
            <DockPanel LastChildFill="True">
                <StackPanel Orientation="Horizontal" VerticalAlignment="Center" Margin="30,0,0,0">
                    <!-- Bigger coffee cup mark -->
                    <Viewbox Height="58" Width="58" Margin="0,0,18,0">
                        <Canvas Width="48" Height="48">
                            <Path Data="M12,40 Q24,48 36,40 Q36,24 24,24 Q12,24 12,40 Z M24,24 Q24,12 36,12 Q36,24 24,24 Z" Fill="#FFF8F0" Stroke="#C7A17A" StrokeThickness="2"/>
                            <Ellipse Canvas.Left="18" Canvas.Top="8" Width="12" Height="8" Fill="#C7A17A" Opacity="0.7"/>
                        </Canvas>
                    </Viewbox>

                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Coffee Shop Kiosk" Style="{StaticResource Heading1}" Foreground="{StaticResource Cream}"/>
                        <TextBlock Text="A friendly cafe interface for students" Style="{StaticResource SubHeading}" Foreground="{StaticResource Cream}" Margin="0,4,0,0"/>
                    </StackPanel>

                </StackPanel>

                <StackPanel DockPanel.Dock="Right" Orientation="Horizontal" VerticalAlignment="Center" Margin="0,0,24,0">
                    <ToggleButton x:Name="ThemeToggle" Width="150" Height="34" Margin="0,0,10,0" Style="{StaticResource PrimaryToggleButton}">
                        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                            <TextBlock Text="Study Mode" Margin="0,0,8,0" />
                            <TextBlock Text="Ctrl+Shift+S" FontSize="12" Opacity="0.7" VerticalAlignment="Center" />
                        </StackPanel>
                    </ToggleButton>
                    <Button x:Name="ToggleCart" Content="Hide Cart" Width="100" Height="34" Style="{StaticResource SecondaryButton}" />
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Main product list -->
        <views:ProductListView Grid.Row="1" Grid.Column="0" Margin="24,24,8,24" />

        <!-- Cart side panel -->
        <views:CartView Grid.Row="1" Grid.Column="1" x:Name="CartPanel" DataContext="{Binding Cart}" Margin="8,24,24,24" />

        <!-- Toast host (non-blocking notifications) -->
        <views:ToastHost Grid.Row="0" Grid.Column="1" x:Name="ToastHost" />

        <Grid.Resources>
            <DropShadowEffect x:Key="DropShadowEffect" Color="#000" BlurRadius="16" ShadowDepth="2" Opacity="0.18" />
        </Grid.Resources>
    </Grid>
</Window>